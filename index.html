<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Hacker News story sorter</title>
<style>
body {
    font-family: Helvetica, Arial, sans-serif;
}
#bookmarklet {
    background-color: #efefef;
    padding: 5px 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
    text-decoration: none;
}
</style>
</head>

<body>
<h1>Hacker News story sorter â€“ a bookmarklet</h1>
Bookmark this link:
<a id="bookmarklet" href="javascript:(function%20()%20{%20%20%20%20%20const%20itemlist%20=%20document.querySelector('body%20>%20center%20>%20table%20>%20tbody%20>%20tr:nth-child(3)%20>%20td%20>%20table');%20%20%20%20%20const%20clonedItemlist%20=%20itemlist.cloneNode(true);%20%20%20%20%20const%20clonedTbody%20=%20clonedItemlist.querySelector('tbody');%20%20%20%20%20const%20footerRows%20=%20[clonedTbody.removeChild(clonedTbody.lastElementChild),%20clonedTbody.removeChild(clonedTbody.lastElementChild)].reverse();%20%20%20%20%20%20const%20getRowsOfType%20=%20(i)%20=>%20Array.from(clonedTbody.querySelectorAll(`tr:nth-child(3n+${i})`));%20%20%20%20%20%20const%20titleRows%20=%20getRowsOfType(1);%20%20%20%20%20const%20metaRows%20=%20getRowsOfType(2);%20%20%20%20%20const%20separatorRows%20=%20getRowsOfType(3);%20%20%20%20%20%20const%20newRows%20=%20[];%20%20%20%20%20for%20(let%20i%20=%200;%20i%20<%20titleRows.length;%20i++)%20{%20%20%20%20%20%20%20%20%20const%20points%20=%20parseInt(metaRows[i].querySelector('.score')?.innerHTML.split('%20')[0],%2010)%20??%200;%20%20%20%20%20%20%20%20%20%20newRows.push({%20%20%20%20%20%20%20%20%20%20%20%20%20title:%20titleRows[i],%20%20%20%20%20%20%20%20%20%20%20%20%20meta:%20metaRows[i],%20%20%20%20%20%20%20%20%20%20%20%20%20separator:%20separatorRows[i],%20%20%20%20%20%20%20%20%20%20%20%20%20points:%20points%20%20%20%20%20%20%20%20%20});%20%20%20%20%20}%20%20%20%20%20newRows.sort((rowA,%20rowB)%20=>%20rowB.points%20-%20rowA.points);%20%20%20%20%20%20const%20sortedItemlist%20=%20document.createElement('tbody');%20%20%20%20%20newRows.forEach((rowSet)%20=>%20sortedItemlist.append(rowSet.title,%20rowSet.meta,%20rowSet.separator));%20%20%20%20%20sortedItemlist.append(...footerRows);%20%20%20%20%20%20itemlist.replaceChild(sortedItemlist,%20itemlist.querySelector('tbody'));%20%20}());">HN sorter</a>


</body>
</html>
