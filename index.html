<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Hacker News story sorter</title>
<style>
body {
    font-family: Helvetica, Arial, sans-serif;
}
#bookmarklet {
    background-color: #efefef;
    padding: 5px 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
    text-decoration: none;
}
</style>
</head>

<body>
<h1>Hacker News story sorter â€“ a bookmarklet</h1>
Bookmark this link:
<a id="bookmarklet" href="javascript:(function()%7Bconst%20itemlist%20%3D%20document.querySelector(%22table.itemlist%22)%3Bconst%20clonedItemlist%20%3D%20itemlist.cloneNode(true)%3Bconst%20clonedTbody%20%3D%20clonedItemlist.querySelector(%22tbody%22)%3Bconst%20footerRows%20%3D%20%5BclonedTbody.removeChild(clonedTbody.lastElementChild)%2C%20clonedTbody.removeChild(clonedTbody.lastElementChild)%5D.reverse()%3Bconst%20getRowsOfType%20%3D%20(i)%20%3D%3E%20Array.from(clonedTbody.querySelectorAll(%60tr%3Anth-child(3n%2B%24%7Bi%7D)%60))%3Bconst%20titleRows%20%3D%20getRowsOfType(1)%3Bconst%20metaRows%20%3D%20getRowsOfType(2)%3Bconst%20separatorRows%20%3D%20getRowsOfType(3)%3Bconst%20newRows%20%3D%20%5B%5D%3Bfor%20(let%20i%20%3D%200%3B%20i%20%3C%20titleRows.length%3B%20i%2B%2B)%20%7Bconst%20points%20%3D%20parseInt(metaRows%5Bi%5D.querySelector(%22.score%22)%3F.innerHTML.split(%22%20%22)%5B0%5D%2C%2010)%20%3F%3F%200%3BnewRows.push(%7Btitle%3A%20titleRows%5Bi%5D%2Cmeta%3A%20metaRows%5Bi%5D%2Cseparator%3A%20separatorRows%5Bi%5D%2Cpoints%3A%20points%7D)%3B%7DnewRows.sort((rowA%2C%20rowB)%20%3D%3E%20rowB.points%20-%20rowA.points)%3Bconst%20sortedItemlist%20%3D%20document.createElement(%22tbody%22)%3BnewRows.forEach((rowSet)%20%3D%3E%20sortedItemlist.append(rowSet.title%2C%20rowSet.meta%2C%20rowSet.separator))%3BsortedItemlist.append(...footerRows)%3Bitemlist.replaceChild(sortedItemlist%2C%20itemlist.querySelector(%22tbody%22))%7D)()"">HN sorter</a>


</body>
</html>
